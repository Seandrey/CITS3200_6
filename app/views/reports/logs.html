<!-- Author: Lara Posel (22972221) -->
{% extends 'templates/auth_area.html' %}
{% set active_page = 'student' %}

{% block head %}
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/reports.css') }}">

    <script src="{{ url_for('static', filename='js/edit.js') }}" defer></script>
    <script>
        // script used for Jinja variable substitution
        const studentid = {{subst_data.student_db_id}};
    </script>
{% endblock %}

{% block content %}


<a href='/reports/student'><button class="backButton" style="float: right">Back to search</button></a>
    <h3>Activity Logs for {{data.student.name}} ({{(data.student.student_number|string).zfill(8)}})</h3>
    <h6>Double click a table cell to edit it, hit enter to exit editing mode.</h6>
    <div class="card">
        <table id="activity-log-table">
            <tr>
                <th>Date</th>
                <th>Placement Location</th>
                <th>Primary Supervisor</th>
                <th>Category</th>
                <th>Domain</th>
                <th>Minutes</th>
                <th>Submit Changes</th>
            </tr>
            {% for log in logs %}
            <tr>
                <td class="date-field">{{log.record_date}}</td>
                <td class="select location-field">{{log.locationid}}</td>
                <td class="select supervisor-field">{{log.supervisorid}}</td>
                <td class="select exercise-prescription-field">{{log.activityid}}</td>
                <td class="select domain-field">{{log.domainid}}</td>
                <td class="text-field minutes-field">{{log.minutes_spent}}</td>
                <th><button class="seeLogs" onclick="submitUpdate({{log.logid}}, this)">Submit</button></th>
                <!-- TODO: unit ID -->
            </tr>
            {% endfor %}
            <tr>
                <td>1/8/22</td>
                <td class = "select location-field"></td>
                <td class = "select supervisor-field"></td>
                <td class = "select exercise-prescription-field"></td>
                <td class = "select domain-field"></td>
                <td class = "text-field">119</td>
                <th><button class="seeLogs">Submit</button></th>
            </tr>
            <tr>
                <td>10/8/22</td>
                <td class = "select location-field"></td>
                <td class = "select supervisor-field"></td>
                <td class = "select exercise-prescription-field"></td>
                <td class = "select domain-field"></td>
                <td class = "text-field">60</td>
                <th><button class="seeLogs">Submit</button></th>
            </tr>
            <tr>
                <td>15/8/22</td>
                <td class = "select location-field"></td>
                <td class = "select supervisor-field"></td>
                <td class = "select exercise-prescription-field"></td>
                <td class = "select domain-field"></td>
                <td class = "text-field">90</td>
                <th><button class="seeLogs">Submit</button></th>
            </tr>
        </table>
    </div>
{% endblock %}